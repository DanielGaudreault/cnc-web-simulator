function generateToolpath(scene) {
  // This is a simplified generator - replace with real CAM logic
  let gcode = [
    "; G-code generated by Browser CAM",
    "G21 ; Millimeter mode",
    "G90 ; Absolute positioning",
    "G0 Z5 ; Safe height",
    "",
    "; Toolpath starts"
  ];

  // Mock toolpath - in a real app you'd analyze the 3D model
  for (let x = 0; x < 50; x += 10) {
    for (let y = 0; y < 50; y += 10) {
      gcode.push(`G0 X${x} Y${y}`);
      gcode.push("G1 Z-1 F100");
      gcode.push(`G1 X${x+8} Y${y+8} F200`);
      gcode.push("G0 Z5");
    }
  }

  gcode.push("", "G0 X0 Y0", "M30 ; Program end");
  return gcode.join("\n");
}
