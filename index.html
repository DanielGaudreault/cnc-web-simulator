<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastercam Web Clone</title>
    <link rel="stylesheet" href="style.css">
    <script src="lib/three.js"></script>
    <script src="lib/jszip.js"></script>
    <script src="lib/dat.gui.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Ribbon UI -->
        <header class="ribbon-ui">
            <div class="ribbon-tabs">
                <button class="ribbon-tab active" data-tab="home">Home</button>
                <button class="ribbon-tab" data-tab="create">Create</button>
                <button class="ribbon-tab" data-tab="toolpaths">Toolpaths</button>
                <button class="ribbon-tab" data-tab="simulate">Simulate</button>
            </div>
            
            <div class="ribbon-panels">
                <!-- Home Panel -->
                <div class="ribbon-panel active" data-panel="home">
                    <div class="ribbon-group">
                        <h3>File</h3>
                        <button id="new-file">New</button>
                        <input type="file" id="open-file" accept=".mcam,.MCAM,.step,.STEP">
                        <button id="save-file">Save</button>
                        <button id="export-stl">Export STL</button>
                    </div>
                    
                    <div class="ribbon-group">
                        <h3>View</h3>
                        <button id="view-top">Top</button>
                        <button id="view-front">Front</button>
                        <button id="view-side">Side</button>
                        <button id="view-iso">Isometric</button>
                        <button id="zoom-fit">Fit View</button>
                    </div>
                </div>
                
                <!-- Create Panel -->
                <div class="ribbon-panel" data-panel="create">
                    <div class="ribbon-group">
                        <h3>Primitives</h3>
                        <button id="create-box">Box</button>
                        <button id="create-cylinder">Cylinder</button>
                        <button id="create-sphere">Sphere</button>
                    </div>
                </div>
                
                <!-- Toolpaths Panel -->
                <div class="ribbon-panel" data-panel="toolpaths">
                    <div class="ribbon-group">
                        <h3>Operations</h3>
                        <button id="toolpath-contour">Contour</button>
                        <button id="toolpath-pocket">Pocket</button>
                        <button id="toolpath-drill">Drill</button>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Left Sidebar -->
            <aside class="sidebar left">
                <div class="tree-view" id="geometry-tree"></div>
                <div class="toolpath-list" id="toolpath-list"></div>
            </aside>
            
            <!-- Center Viewport -->
            <main class="viewport">
                <div id="cad-viewer"></div>
                <div id="toolpath-visualizer"></div>
                <div class="viewport-controls">
                    <select id="display-mode">
                        <option value="shaded">Shaded</option>
                        <option value="wireframe">Wireframe</option>
                        <option value="hidden-line">Hidden Line</option>
                    </select>
                </div>
            </main>
            
            <!-- Right Sidebar -->
            <aside class="sidebar right">
                <div class="property-editor" id="property-editor"></div>
                <div class="post-processor">
                    <h3>Post Processor</h3>
                    <select id="post-processor">
                        <option value="generic">Generic</option>
                        <option value="fanuc">Fanuc</option>
                        <option value="haas">Haas</option>
                        <option value="heidenhain">Heidenhain</option>
                    </select>
                    <button id="generate-gcode">Generate G-Code</button>
                </div>
            </aside>
        </div>
        
        <!-- Status Bar -->
        <footer class="status-bar">
            <div class="coordinates">X: 0.000 Y: 0.000 Z: 0.000</div>
            <div class="units">Units: mm</div>
            <div class="selection-count">Selected: 0</div>
        </footer>
    </div>

    <!-- Load all JavaScript files -->
    <script src="src/core/geometry-kernel.js"></script>
    <script src="src/core/cad-engine.js"></script>
    <script src="src/core/cam-engine.js"></script>
    <script src="src/core/file-io.js"></script>
    <script src="src/core/post-processor.js"></script>
    <script src="src/core/tool-library.js"></script>
    <script src="src/core/command-manager.js"></script>
    <script src="src/core/selection-manager.js"></script>
    <script src="src/core/transformation-manager.js"></script>
    <script src="src/core/undo-redo.js"></script>
    
    <script src="src/ui/ribbon-ui.js"></script>
    <script src="src/ui/cad-viewer.js"></script>
    <script src="src/ui/tree-view.js"></script>
    <script src="src/ui/property-editor.js"></script>
    <script src="src/ui/toolpath-visualizer.js"></script>
    <script src="src/ui/status-bar.js"></script>
    
    <script src="src/utils/file-utils.js"></script>
    <script src="src/utils/math-utils.js"></script>
    <script src="src/utils/worker-manager.js"></script>
    
    <script src="src/formats/mcam-parser.js"></script>
    <script src="src/formats/step-parser.js"></script>
    
    <script src="app.js"></script>
</body>
</html>
